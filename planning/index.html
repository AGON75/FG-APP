<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Planning â€“ Finger Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    /* ...styles inchangÃ©s... */
  </style>
  <script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm'
    const supabase = createClient(
      'https://ckolzmqarfizoxjgolft.supabase.co',
      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNrb2x6bXFhcmZpem94amdvbGZ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk2Nzg3NTYsImV4cCI6MjA2NTI1NDc1Nn0.ZlpERz1uznM0fn--GR9YgM2vjwe_kw-qiPF8KHJvMpI'
    );

    // ...tes fonctions existantes...

    // Finale manuelle : sÃ©lectionne les finalistes par UUID et leur attribue "FINALISTE"
    async function finaleManuelle() {
      const ids = prompt("Entrez les UUID des joueurs finalistes, sÃ©parÃ©s par des virgules :\n(exemple : uuid1,uuid2,uuid3,uuid4,uuid5)");
      if (!ids) return;
      const idList = ids.split(",").map(id => id.trim()).filter(Boolean);

      // RÃ©initialise la finale pour tous les joueurs
      await supabase.from("players").update({ phase: null, round: null, terrain: null, total_points: null }).neq("id", "");

      // Attribue la finale et la mention FINALISTE
      for (const id of idList) {
        await supabase.from("players").update({
          phase: 99,
          round: 'F',
          terrain: 1,
          total_points: "FINALISTE"
        }).eq("id", id);
      }

      alert("Finale manuelle enregistrÃ©e !");
      afficherPlanning();
    }
    window.finaleManuelle = finaleManuelle;

    // ...le reste de ton script inchangÃ©...
  </script>
</head>
<body>
  <header>
    <img src="../assets/FingerGame_logo_blanc_tagline.png" alt="Finger Game">
    <h1>ğŸ“… Planning des Phases</h1>
  </header>

  <button onclick="genererPhase()">ğŸš€ GÃ©nÃ©rer la phase</button>
  <button onclick="genererFinale()">ğŸ GÃ©nÃ©rer la finale</button>
  <button onclick="finaleManuelle()">ğŸ Finale manuelle</button>
  <button onclick="resetPlanning()">ğŸ—‘ï¸ RÃ©initialiser le planning</button>

  <table>
    <thead><tr><th>Joueur</th><th>DÃ©tails</th></tr></thead>
    <tbody id="dispatch"></tbody>
  </table>
</body>
</html>
